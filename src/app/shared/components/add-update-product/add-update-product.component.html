<app-header [isModal]="true"
	title="Agregar producto"></app-header>
<ion-content>

	<form [formGroup]="form"
		(ngSubmit)="submit()"
		(keypress.enter)="submit()"
		class="ion-padding ion-text-center">

		<!-- =========== Name ============== -->
		<app-custom-input [control]="form.controls.name"
			autoComplete="name"
			type="text"
			label="Nombre"></app-custom-input>

		<div *ngIf="form.controls.name.errors && form.controls.name.touched"
			class="validators">
			<div *ngIf="form.controls.name.errors?.['required']">
				El nombre es requerido
			</div>

			<div *ngIf="form.controls.name.errors?.['minLenght']">
				El nombre debe tener al menos 3 caracteres
			</div>
		</div>

		<!-- =========== Price  ============== -->
		<app-custom-input [control]="form.controls.price"
			type="number"
			label="Precio"></app-custom-input>

		<div *ngIf="form.controls.price.errors && form.controls.price.touched"
			class="validators">
			<div *ngIf="form.controls.price.errors?.['required']">
				Este campo es requerido
			</div>

			<div *ngIf="form.controls.price.errors?.['min']">
				El precio minimo debe ser 0
			</div>
		</div>

		<!-- =========== Sold Units ============== -->
		<app-custom-input [control]="form.controls.soldUnits"
			type="number"
			label="Unidades vendidas"></app-custom-input>

		<div *ngIf="form.controls.soldUnits.errors && form.controls.soldUnits.touched"
			class="validators">
			<div *ngIf="form.controls.soldUnits.errors?.['required']">
				Este campo es requerido
			</div>

			<div *ngIf="form.controls.soldUnits.errors?.['min']">
				La cantidad minima debe ser 0
			</div>
		</div>

		<!-- =========== Save product button ============== -->
		<ion-button [disabled]="form.invalid"
			mode="ios"
			class="ion-margin"
			type="submit">
			Agregar Producto
			<ion-icon slot="end"
				name="checkmark-circle-outline"></ion-icon>
		</ion-button>

	</form>
</ion-content>
